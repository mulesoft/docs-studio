= Anypoint DataMapper User Guide and Reference (Deprecated - DataMapper)
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:page-aliases: 6.5@studio::datamapper-user-guide-and-reference.adoc
:keywords: datamapper

*_Enterprise, CloudHub_*


[NOTE]
====
DataMapper continues to be fully supported in all current and future versions of Mule 3.x, however it will be removed in Mule 4.0 in favor of the *Transform Message* component (based on xref:3.9@mule-runtime::dataweave.adoc[DataWeave] code). We recommend that if you wish to take advantage of the new capabilities of DataWeave or if you start new projects, upgrade now.

A xref:3.9@mule-runtime::dataweave-migrator.adoc[migration tool] is now included in Anypoint Studio, which assists in converting a DataMapper map to DataWeave. Right-click a DataMapper building block, select *Migrate to DataWeave*, and follow the instructions.

image::dw-migrator-script.png["A window for creating a mapping from CSV to JSON"]

If you don't see DataMapper on your palette, you can enable it by going to *Preferences* > *Anypoint Studio* > *Palette Profiles* and clicking the checkbox *Show deprecated Mule Components and Attributes*.

To deploy a project that includes DataMapper and is built with Mule Runtime 3.6 or older in one of your own servers, you must xref:including-the-datamapper-plugin.adoc[Include the DataMapper Plugin]
====

image::datamapper.png["A browser window displaying a data flow diagram"]

<<Examples>>


*Anypoint DataMapper*, or DataMapper for short, is a Mule transformer that delivers simple, yet powerful, visual design of complex data transformations for use in Mule flows, including:

* Extraction and loading of flat and structured data formats
* Filtering, extraction and transformation of input data using XPath and powerful scripting
* Augmenting data with input parameters and lookups from other data sources
* Live design-time previews of transformation results
* High-performance, scalable data mapping operations

Inputs and outputs can be “flat” (that is, row-structured) data like CSV files or Excel spreadsheet data, or structured data in the formats supported throughout Mule: XML, JSON, key/value Maps and trees of Plain Old Java Objects (POJOs).

In general, using the more basic Mule transformers to recreate the functionality of a single DataMapper may require a complex flow of format converters for input data, splitters, filters, For Each scopes, expressions, other transformers, aggregators, and yet more format converters for the output. A DataMapper-based implementation is faster to implement and easier to maintain than the alternatives.

Graphical design of the complex transformations supported by DataMapper makes it simple to apply all of its capabilities with little coding beyond basic expressions and function calls to transform data.

image::mapping-example-compl.png["A diagram illustrating the process of converting a comma-separated value file to a JSON file"]

[NOTE]
====
*Full DataMapper functionality is exclusive to the Mule  Enterprise Edition (EE),* it won't work if you're deploying your projects to Mule Community Edition (CE).
====

[TIP]
====
For an introduction to the DataMapper graphical interface and basic concepts, see xref:datamapper-concepts.adoc[DataMapper Concepts]. For a complete description of DataMapper's graphical interface, see xref:datamapper-visual-reference.adoc[DataMapper Visual Reference].
====

== Examples

The following examples show the use of DataMapper:

[%header,cols="10a,90a"]
|===
|Document |Description
|xref:web-service-consumer-connector::index.adoc[Web Service Consumer] |Turns JSON requests to XML and back. Also turns a flow variable into an outbound property.
|https://docs.archive.mulesoft.com/mule-user-guide/v/3.4/xml-only-soap-web-service-example[XML-Only SOAP Web Service] |Maps data from responses to a healthcare database for viewing by a patient, and formats questions from patients for access to a patient information web service.
|https://docs.archive.mulesoft.com/mule-user-guide/v/3.4/legacy-modernization-example[Legacy Modernization] |Maps data from a shipping order POJO into a CSV file in the "How it Works" section.
|===

== See Also

* xref:3.9@mule-runtime::dataweave.adoc[DataWeave]
* xref:datamapper-concepts.adoc[DataMapper Concepts]
* xref:datamapper-visual-reference.adoc[DataMapper Visual Reference]
* xref:defining-datamapper-input-and-output-metadata.adoc[Defining DataMapper Input and Output Metadata]
** xref:defining-metadata-using-edit-fields.adoc[Defining Metadata Using Edit Fields]
** xref:pojo-class-bindings-and-factory-classes.adoc[POJO Class Bindings and Factory Classes]
* xref:building-a-mapping-flow-in-the-graphical-mapping-editor.adoc[Building a Mapping Flow in the Graphical Mapping Editor]
** xref:mapping-flow-input-and-output-properties.adoc[Mapping Flow Input and Output Properties]
** xref:datamapper-input-error-policy-for-bad-input-data.adoc[DataMapper Input Error Policy for Bad Input Data]
** xref:using-datamapper-lookup-tables.adoc[Using DataMapper Lookup Tables]
** xref:streaming-data-processing-with-datamapper.adoc[Streaming Data Processing with DataMapper]
* xref:updating-metadata-in-an-existing-mapping.adoc[Updating Metadata in an Existing Mapping]
* xref:mapping-elements-inside-lists.adoc[Mapping Elements Inside Lists]
* xref:previewing-datamapper-results-on-sample-data.adoc[Previewing DataMapper Results on Sample Data]
* xref:datamapper-examples.adoc[DataMapper Examples]
* xref:datamapper-supplemental-topics.adoc[DataMapper Supplemental Topics]
** xref:choosing-mel-or-ctl2-as-scripting-engine.adoc[Choosing MEL or CTL2 as Scripting Engine]
** xref:datamapper-fixed-width-input-format.adoc[DataMapper Fixed Width Input Format]
** xref:datamapper-flat-to-structured-and-structured-to-flat-mapping.adoc[DataMapper Flat-to-Structured and Structured-to-Flat Mapping]
* xref:including-the-datamapper-plugin.adoc[Including the DataMapper Plugin]
